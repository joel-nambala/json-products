{"mappings":"AAAA;AAEA,sBAAsB;AACtB,MAAM,mBAAmB,SAAS,cAAc;AAChD,MAAM,mBAAmB,SAAS,cAAc;AAEhD,kBAAkB;AAElB,kBAAkB;AAClB,MAAM,oBAAoB,SAAU,MAAM;IACxC,OAAO,SAAS;AAClB;AAEA,MAAM,oBAAoB,SAAU,QAAQ;IAC1C,0BAA0B;IAC1B,MAAM,MAAM,kBAAkB;IAE9B,sBAAsB;IACtB,OAAO,IAAI,KAAK,aAAa,UAAU,UAAU;QAC/C,OAAO;QACP,UAAU;IACZ,GAAG,OAAO;AACZ;AAEA,0BAA0B;AAC1B,MAAM,gBAAgB;IACpB,IAAI;QACF,uBAAuB;QACvB,MAAM,WAAW,MAAM,MAAM;QAE7B,qBAAqB;QACrB,IAAI,CAAC,SAAS,IAAI,MAAM,IAAI,MAAM;QAElC,mCAAmC;QACnC,MAAM,OAAO,MAAM,SAAS;QAE5B,kBAAkB;QAClB,OAAO,KAAK;IACd,EAAE,OAAO,KAAK;QACZ,QAAQ,MAAM,IAAI;IACpB;AACF;AAEA,eAAe;AACf,MAAM,iBAAiB,SAAU,SAAS;IACxC,MAAM,OAAO,CAAC;;;;EAId,CAAC;IAED,UAAU,mBAAmB,aAAa;AAC5C;AAEA,oCAAoC;AACpC,MAAM,sBAAsB;IAC1B,kBAAkB;IAClB,eAAe;IAEf,eAAe;IACf,MAAM,WAAW,MAAM;IAEvB,eAAe;IACf,iBAAiB,YAAY;IAE7B,yBAAyB;IACzB,SAAS,QAAQ,SAAU,OAAO,EAAE,CAAC,EAAE,GAAG;QACxC,kBAAkB;QAClB,MAAM,OAAO,CAAC;6CAC2B,EAAE,QAAQ,GAAG;;eAE3C,EAAE,QAAQ,UAAU;eACpB,EAAE,QAAQ,MAAM;;;;mCAII,EACvB,QAAQ,MAAM,SAAS,KACnB,QAAQ,MAAM,MAAM,IAAI,MAAM,GAAG,IAAI,KAAK,MAAM,QAChD,QAAQ,MACb;kCACuB,EAAE,QAAQ,MAAM;;;IAG9C,CAAC;QAED,mBAAmB;QACnB,iBAAiB,mBAAmB,aAAa;IACnD;AACF;AAEA;AAEA,8BAA8B;AAC9B,MAAM,iBAAiB,eAAgB,CAAC;IACtC,iBAAiB,YAAY;IAC7B,sBAAsB;IACtB,eAAe;IAEf,0BAA0B;IAC1B,MAAM,cAAc,EAAE,OAAO,QAAQ;IAErC,qBAAqB;IACrB,MAAM,EAAE,QAAO,EAAE,GAAG,YAAY;IAEhC,oBAAoB;IACpB,MAAM,eAAe,MAAM;IAE3B,yBAAyB;IACzB,MAAM,kBAAkB,aAAa,KAAK,CAAA,OAAQ,KAAK,OAAO,CAAC;IAE/D,mBAAmB;IACnB,iBAAiB,YAAY;IAE7B,kBAAkB;IAClB,MAAM,OAAO,CAAC;;;aAGH,EAAE,gBAAgB,UAAU;aAC5B,EAAE,gBAAgB,MAAM;;;;YAIzB,EAAE,gBAAgB,MAAM;;;;kCAIF,EAC1B,gBAAgB,QAAQ,CAAC,EAAE,CAAC,gBAAgB,gBAAgB,SAAS,MAAM,GAC5E;+BACwB,EAAE,gBAAgB,MAAM;+BACxB,EAAE,kBAAkB,gBAAgB,OAAO;+BAC3C,EAAE,gBAAgB,MAAM;gCACvB,EAAE,gBAAgB,OAAO;;;;;;mCAMtB,EAAE,gBAAgB,YAAY;;;;;;EAM/D,CAAC;IAED,mBAAmB;IACnB,iBAAiB,mBAAmB,aAAa;AACnD;AAEA,oCAAoC;AACpC,iBAAiB,iBAAiB,SAAS","sources":["js/script.js"],"sourcesContent":["'use strict';\r\n\r\n// Select DOM Elements\r\nconst sidebarContainer = document.querySelector('.sidebar-list');\r\nconst productContainer = document.querySelector('.product');\r\n\r\n// State variables\r\n\r\n// State functions\r\nconst currencyConverter = function (amount) {\r\n  return amount * 138.65;\r\n};\r\n\r\nconst currencyFormatter = function (currency) {\r\n  // Convert currency to KSH\r\n  const ksh = currencyConverter(currency);\r\n\r\n  // Format the currency\r\n  return new Intl.NumberFormat(navigator.language, {\r\n    style: 'currency',\r\n    currency: 'KSH',\r\n  }).format(ksh);\r\n};\r\n\r\n// Fetch products function\r\nconst fetchProducts = async function () {\r\n  try {\r\n    // Get data from an API\r\n    const response = await fetch('https://dummyjson.com/products');\r\n\r\n    // Throw an exception\r\n    if (!response.ok) throw new Error('Something went wrong!!!');\r\n\r\n    // Covert the data to a JSON string\r\n    const data = await response.json();\r\n\r\n    // Return the data\r\n    return data.products;\r\n  } catch (err) {\r\n    console.error(err.message);\r\n  }\r\n};\r\n\r\n// Load spinner\r\nconst displaySpinner = function (container) {\r\n  const html = `\r\n    <div class=\"spinner-container\">\r\n      <i class=\"fa-sharp fa-solid fa-circle-notch spinner\"></i>\r\n    </div>\r\n  `;\r\n\r\n  container.insertAdjacentHTML('beforeend', html);\r\n};\r\n\r\n// Load product items on the sidebar\r\nconst displaySidebarItems = async function () {\r\n  // Display spinner\r\n  displaySpinner(sidebarContainer);\r\n\r\n  // Get the data\r\n  const products = await fetchProducts();\r\n\r\n  // Hide spinner\r\n  sidebarContainer.innerHTML = '';\r\n\r\n  // Loop over the products\r\n  products.forEach(function (product, i, arr) {\r\n    // Generate markup\r\n    const html = `\r\n      <li class=\"sidebar-item\" data-product=\"${product.id}\">\r\n        <img\r\n          src=\"${product.thumbnail}\"\r\n          alt=\"${product.title}\"\r\n          class=\"sidebar-img\"\r\n        />\r\n        <div class=\"sidebar-info\">\r\n          <h3 class=\"sidebar-name\">${\r\n            product.title.length > 30\r\n              ? product.title.split('').slice(0, 30).join('') + '...'\r\n              : product.title\r\n          }</h3>\r\n          <p class=\"sidebar-text\">${product.brand}</p>\r\n        </div>\r\n      </li>\r\n    `;\r\n\r\n    // Append to the UI\r\n    sidebarContainer.insertAdjacentHTML('beforeend', html);\r\n  });\r\n};\r\n\r\ndisplaySidebarItems();\r\n\r\n// Function to display product\r\nconst displayProduct = async function (e) {\r\n  productContainer.innerHTML = '';\r\n  // Display the spinner\r\n  displaySpinner(productContainer);\r\n\r\n  // Select the clicked item\r\n  const clickedItem = e.target.closest('.sidebar-item');\r\n\r\n  // Select the dataset\r\n  const { product } = clickedItem.dataset;\r\n\r\n  // Fetch the product\r\n  const productItems = await fetchProducts();\r\n\r\n  // Loop over the products\r\n  const selectedProduct = productItems.find(item => item.id === +product);\r\n\r\n  // Hide the spinner\r\n  productContainer.innerHTML = '';\r\n\r\n  // Generate markup\r\n  const html = `\r\n    <figure class=\"product-photo\">\r\n      <img\r\n        src=\"${selectedProduct.thumbnail}\"\r\n        alt=\"${selectedProduct.title}\"\r\n        class=\"product-img\"\r\n      />\r\n      <figcaption class=\"product-name\">\r\n        <h1>${selectedProduct.title}</h1>\r\n      </figcaption>\r\n    </figure>\r\n    <div class=\"product-info\">\r\n      <p class=\"product-category\">${\r\n        selectedProduct.category[0].toUpperCase() + selectedProduct.category.slice(1)\r\n      }</p>\r\n      <p class=\"product-brand\">${selectedProduct.brand}</p>\r\n      <p class=\"product-price\">${currencyFormatter(selectedProduct.price)}</p>\r\n      <p class=\"product-stock\">${selectedProduct.stock} units left</p>\r\n      <p class=\"product-rating\">${selectedProduct.rating} rating</p>\r\n      <p class=\"product-shopping\">\r\n        <i class=\"fa-sharp fa-solid fa-cart-plus shopping-icon\"></i>\r\n        <i class=\"fa-solid fa-check shopping-icon hide-shopping-icon\"></i>\r\n      </p>\r\n    </div>\r\n    <p class=\"product-description\">${selectedProduct.description}</p>\r\n    <div class=\"product-links\">\r\n      <a href=\"\" class=\"product-link\"\r\n        >Check out more <i class=\"fa-solid fa-arrow-right\"></i\r\n      ></a>\r\n    </div>\r\n  `;\r\n\r\n  // Append to the UI\r\n  productContainer.insertAdjacentHTML('beforeend', html);\r\n};\r\n\r\n// Add a click event to the side bar\r\nsidebarContainer.addEventListener('click', displayProduct);\r\n"],"names":[],"version":3,"file":"index.1c974c2f.js.map","sourceRoot":"/__parcel_source_root/"}